<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>TML test</title>
  </head>
  <body>
    TML
    <script src="../dist/tml.debug.js"></script>
    <script>
      const { lp, string_read_text } = require('tml');
      function run (s) {
        const p = new lp(); // p = logic program
        try {
          p.prog_read(string_read_text(s)); // parse source from s
        } catch (err) { // parse error
          console.log('Parse error:', err);
          return 3;
        }
        let r = false;
        try {
          r = p.pfp(); // run pfp logic program
        } catch (err) { // pfp error
          console.log('PFP error', err);
          return 2;
        }
        if (!r) { // unsat
          console.log('unsat');
        }
        return r ? 0 : 1;
      }
      run("1 2. 2 3. ?x ?y :- ?y ?x.");
    </script>
  </body>
</html>